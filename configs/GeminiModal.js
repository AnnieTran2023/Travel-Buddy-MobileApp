const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : Osaka, Japan, starting from Location Helsinki, Finland, from 28-11-2024 to 30-11-2024 for Just me with a Budget-Friendly budget with a transport details , transport Price with transport Booking url, Hotels options list with HotelName, Hotel address, Price, hotel image url, hotel booking url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, place url, place rating, Geo Coordinates, ticket Pricing, Time to visit each of the location for 3 with each day plan with best time to visit in JSON Format",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "tripDetails": {\n    "startDate": "28-11-2024",\n    "endDate": "30-11-2024",\n    "destination": "Osaka, Japan",\n    "origin": "Helsinki, Finland",\n    "travelerCount": 1,\n    "budget": "Budget-Friendly"\n  },\n  "transport": {\n    "flights": [\n      {\n        "departure": "Helsinki Airport (HEL)",\n        "arrival": "Kansai International Airport (KIX)",\n        "airline": "Finnair",\n        "price": 400, \n        "bookingUrl": "https://www.finnair.com/",\n        "departureDate": "28-11-2024",\n        "departureTime": "10:00",\n        "arrivalDate": "28-11-2024",\n        "arrivalTime": "17:00" \n      }\n    ],\n    "localTransport": {\n      "type": "Osaka Metro",\n      "price": "1-day Pass: 700 Yen",\n      "bookingUrl": "https://www.osakametro.co.jp/en/" \n    }\n  },\n  "accommodation": [\n    {\n      "hotelName": "Hotel Monterey Osaka",\n      "hotelAddress": "3-6-3 Nishi-Shinsaibashi, Chuo-ku, Osaka 542-0086",\n      "price": "80 USD per night",\n      "hotelImageUrl": "https://www.booking.com/hotel/jp/monterey-osaka.en-gb.html",\n      "hotelBookingUrl": "https://www.booking.com/hotel/jp/monterey-osaka.en-gb.html",\n      "geoCoordinates": "34.6702, 135.5022",\n      "rating": 4.5,\n      "description": "A modern hotel in the heart of the city, close to shopping and entertainment. Offers clean rooms and a rooftop bar with great views."\n    },\n    {\n      "hotelName": "Hotel Gracery Osaka",\n      "hotelAddress": "2-1-10 Nishiki, Nishi-ku, Osaka 550-0001",\n      "price": "70 USD per night",\n      "hotelImageUrl": "https://www.booking.com/hotel/jp/gracery-osaka.en-gb.html",\n      "hotelBookingUrl": "https://www.booking.com/hotel/jp/gracery-osaka.en-gb.html",\n      "geoCoordinates": "34.6752, 135.4996",\n      "rating": 4.0,\n      "description": "A stylish hotel near Osaka Station, known for its Godzilla statue on the rooftop. Convenient location with easy access to public transport."\n    },\n    {\n      "hotelName": "Osaka Guesthouse Sakura",\n      "hotelAddress": "1-13-20 Sone, Nishinari-ku, Osaka 556-0011",\n      "price": "30 USD per night",\n      "hotelImageUrl": "https://www.booking.com/hotel/jp/sakura-guesthouse.en-gb.html",\n      "hotelBookingUrl": "https://www.booking.com/hotel/jp/sakura-guesthouse.en-gb.html",\n      "geoCoordinates": "34.6579, 135.5073",\n      "rating": 4.2,\n      "description": "A friendly guesthouse offering dorm-style rooms and shared facilities. Great value for budget-conscious travelers."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": "Day 1 (28-11-2024)",\n      "theme": "Osaka Highlights",\n      "schedule": [\n        {\n          "time": "10:00 - 12:00",\n          "placeName": "Osaka Castle",\n          "placeDetails": "A historic castle with stunning views of the city. Visit the main tower and explore the surrounding park.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Osaka_Castle%2C_Osaka.jpg/1280px-Osaka_Castle%2C_Osaka.jpg",\n          "placeUrl": "https://www.osaka-castle.jp/en/",\n          "placeRating": 4.7,\n          "geoCoordinates": "34.6849, 135.5214",\n          "ticketPricing": "600 Yen",\n          "timeToVisit": "2 hours" \n        },\n        {\n          "time": "12:00 - 14:00",\n          "placeName": "Dotonbori",\n          "placeDetails": "A vibrant entertainment district with street food, shops, and dazzling neon lights. Try takoyaki and other local delicacies.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Dotonbori_Glico_Signboard_2015.jpg/1280px-Dotonbori_Glico_Signboard_2015.jpg",\n          "placeUrl": "https://www.japan-guide.com/e/e2251.html",\n          "placeRating": 4.5,\n          "geoCoordinates": "34.6663, 135.5027",\n          "ticketPricing": "Free",\n          "timeToVisit": "2 hours" \n        },\n        {\n          "time": "14:00 - 17:00",\n          "placeName": "Shinsekai",\n          "placeDetails": "A retro district known for its kushikatsu (deep-fried skewers) and unique atmosphere. Enjoy the quirky shops and street food.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Shinsekai_Osaka_2017.jpg/1280px-Shinsekai_Osaka_2017.jpg",\n          "placeUrl": "https://www.japan-guide.com/e/e2342.html",\n          "placeRating": 4.3,\n          "geoCoordinates": "34.6579, 135.5135",\n          "ticketPricing": "Free",\n          "timeToVisit": "3 hours"\n        }\n      ]\n    },\n    {\n      "day": "Day 2 (29-11-2024)",\n      "theme": "Culture and Nature",\n      "schedule": [\n        {\n          "time": "10:00 - 12:00",\n          "placeName": "Sumiyoshi Taisha Shrine",\n          "placeDetails": "An ancient shrine dedicated to the gods of seafaring and agriculture. Explore the traditional architecture and serene gardens.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Sumiyoshi_Taisha_Shrine.jpg/1280px-Sumiyoshi_Taisha_Shrine.jpg",\n          "placeUrl": "https://www.sumiyoshitaisha.or.jp/english/",\n          "placeRating": 4.4,\n          "geoCoordinates": "34.6308, 135.4711",\n          "ticketPricing": "Free",\n          "timeToVisit": "2 hours" \n        },\n        {\n          "time": "12:00 - 14:00",\n          "placeName": "Nakanoshima Park",\n          "placeDetails": "A green oasis in the heart of the city with museums, art galleries, and a picturesque promenade along the river. Relax and enjoy the peaceful atmosphere.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Nakanoshima_Park%2C_Osaka.jpg/1280px-Nakanoshima_Park%2C_Osaka.jpg",\n          "placeUrl": "https://www.japan-guide.com/e/e3364.html",\n          "placeRating": 4.6,\n          "geoCoordinates": "34.6922, 135.5081",\n          "ticketPricing": "Free",\n          "timeToVisit": "2 hours"\n        },\n        {\n          "time": "14:00 - 17:00",\n          "placeName": "Tsutenkaku Tower",\n          "placeDetails": "A famous tower with panoramic views of the city. Enjoy the observation deck and learn about Osaka\'s history.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Tsutenkaku_Tower_at_night.jpg/1280px-Tsutenkaku_Tower_at_night.jpg",\n          "placeUrl": "https://www.tsutenkaku.co.jp/english/",\n          "placeRating": 4.2,\n          "geoCoordinates": "34.6657, 135.5203",\n          "ticketPricing": "800 Yen",\n          "timeToVisit": "3 hours" \n        }\n      ]\n    },\n    {\n      "day": "Day 3 (30-11-2024)",\n      "theme": "Food and Shopping",\n      "schedule": [\n        {\n          "time": "10:00 - 12:00",\n          "placeName": "Kuromon Market",\n          "placeDetails": "A bustling market with a wide variety of fresh seafood, local produce, and snacks. Sample delicious street food and pick up souvenirs.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c6/Kuromon_Market%2C_Osaka.jpg/1280px-Kuromon_Market%2C_Osaka.jpg",\n          "placeUrl": "https://www.kuromon.com/",\n          "placeRating": 4.8,\n          "geoCoordinates": "34.6695, 135.5031",\n          "ticketPricing": "Free",\n          "timeToVisit": "2 hours" \n        },\n        {\n          "time": "12:00 - 14:00",\n          "placeName": "Shinsaibashi",\n          "placeDetails": "A vibrant shopping district with high-end boutiques, department stores, and trendy cafes. Enjoy window shopping and find unique gifts.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/Shinsaibashi_Street_Osaka.jpg/1280px-Shinsaibashi_Street_Osaka.jpg",\n          "placeUrl": "https://www.japan-guide.com/e/e2214.html",\n          "placeRating": 4.4,\n          "geoCoordinates": "34.6702, 135.5022",\n          "ticketPricing": "Free",\n          "timeToVisit": "2 hours"\n        },\n        {\n          "time": "14:00 - 17:00",\n          "placeName": "Universal Studios Japan",\n          "placeDetails": "A world-class theme park with thrilling rides, shows, and attractions based on popular movies and TV shows. Consider buying tickets online in advance.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Universal_Studios_Japan%2C_Osaka.jpg/1280px-Universal_Studios_Japan%2C_Osaka.jpg",\n          "placeUrl": "https://www.usj.co.jp/en/",\n          "placeRating": 4.6,\n          "geoCoordinates": "34.6422, 135.4642",\n          "ticketPricing": "7900 Yen (Adult)",\n          "timeToVisit": "3 hours"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Important Notes:**\n\n* This itinerary is a suggestion and can be adjusted based on your interests and preferences. \n* Prices are estimates and may vary depending on the time of year and availability.\n* Consider purchasing a Japan Rail Pass (JR Pass) if you plan on doing extensive train travel throughout the country.\n* This itinerary is designed for budget-friendly travel, but it\'s always good to have a bit of extra cash for unexpected expenses.\n* Download the Google Translate app for easy communication.\n* Be aware of cultural differences and be respectful of local customs. \n\n**Have a wonderful trip to Osaka!** \n',
        },
      ],
    },
  ],
});


